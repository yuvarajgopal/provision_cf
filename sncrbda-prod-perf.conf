# -- DO NOT EDIT -- AUTOMATICALLY GENERATED
[default]

AWS_REGION=us-east-1
CF_PROJECT=sncrbda
Project=sncrbda

ChefOrg=sncr-bda
#ChefServerURL=https://chef-pabet.sncrcorp.net
ChefServerURL=https://chef.aws1.us-east-1.ivpc.mgmt.cloud.synchronoss.net
ChefProxyURL=https://chef-proxy.ivpc.prod.cloud.synchronoss.net:3128

AMI_USE1_CENT67HVM=ami-f7c09592
InstanceAMI=$AMI_USE1_CENT67HVM

STACK_PREFIX=SNCRBDA${ENVIRONMENT_UC}

AppInstanceType=m3.medium
NatInstanceType=m3.medium

RUN_IAM_ROLES_STACK=false
IAM_ROLES_STACK_NAME=${STACK_PREFIX}-IAM-ROLES
IAM_ROLES_CF_TEMPLATE=iam-roles.cft
AppInstanceProfile=${STACK_PREFIX}-IAM-ROLES::AppInstanceProfile
BastionRole=${STACK_PREFIX}-IAM-ROLES::BastionRole
BastionRoleProfile=${STACK_PREFIX}-IAM-ROLES::BastionRoleProfile
NatRole=${STACK_PREFIX}-IAM-ROLES::NatRole
NatRoleProfile=${STACK_PREFIX}-IAM-ROLES::NatRoleProfile

RUN_IAM_GROUPS_STACK=false
IAM_GROUPS_STACK_NAME=${STACK_PREFIX}-IAM-GROUPS
IAM_GROUPS_CF_TEMPLATE=iam-groups.cft

RUN_S3_BUCKETS_STACK=false
S3_BUCKETS_STACK_NAME=${STACK_PREFIX}-S3
S3_BUCKETS_CF_TEMPLATE=s3-buckets.cft
S3_BUCKETS_CF_PARAM_AppRole=${STACK_PREFIX}-IAM-ROLES::AppRole

RUN_CLOUDWATCH_STACK=false
CLOUDWATCH_STACK_NAME=${STACK_PREFIX}-CW
CLOUDWATCH_CF_TEMPLATE=cloudwatch.cft
OperatorEmail=yuvaraj.gopal@synchronoss.com
DbaEmail=yuvaraj.gopal@synchronoss.com
OpsAlertsTopic=${STACK_PREFIX}-CW::OpsAlertsTopic

RUN_ROUTE53_STACK=false
ROUTE53_STACK_NAME=${STACK_PREFIX}-ROUTE53
ROUTE53_CF_TEMPLATE=network-route53.cft

RUN_VPC_STACK=false
VPC_STACK_NAME=${STACK_PREFIX}-VPC
VPC_CF_TEMPLATE=network-vpc.cft

VpcId=${STACK_PREFIX}-VPC::VpcId
InternetGW=${STACK_PREFIX}-VPC::IGW

RUN_ROUTING_STACK=false
ROUTING_STACK_NAME=${STACK_PREFIX}-ROUTING
ROUTING_CF_TEMPLATE=network-routing.cft

PublicRT=${STACK_PREFIX}-ROUTING::PublicRT
PrivateAz1RT=${STACK_PREFIX}-ROUTING::PrivateAz1RT
PrivateAz2RT=${STACK_PREFIX}-ROUTING::PrivateAz2RT

RUN_NETWORK_ACLS_STACK=false
NETWORK_ACLS_STACK_NAME=${STACK_PREFIX}-ACLS
NETWORK_ACLS_CF_TEMPLATE=network-acls.cft
DefaultAcl=${STACK_PREFIX}-ACLS::DefaultAcl
FullPublicAccessAcl=${STACK_PREFIX}-ACLS::FullPublicAccessAcl


RUN_NETWORK_SGS_STACK=false
NETWORK_SGS_STACK_NAME=${STACK_PREFIX}-NETSGS
NETWORK_SGS_CF_TEMPLATE=network-sgs.cft

BastionSG=${STACK_PREFIX}-NETSGS::BastionSG
InternalVpcSG=${STACK_PREFIX}-NETSGS::InternalVpcSG
NullSG=${STACK_PREFIX}-NETSGS::NullSG


RUN_SUBNETS_STACK=false
SUBNETS_STACK_NAME=${STACK_PREFIX}-SUBNETS
SUBNETS_CF_TEMPLATE=must-be-specified-in-the-env.cft

DmzAZ1Subnet=${STACK_PREFIX}-SUBNETS::DmzAZ1Subnet
DmzAZ2Subnet=${STACK_PREFIX}-SUBNETS::DmzAZ2Subnet

AccessAZ1Subnet=${STACK_PREFIX}-SUBNETS::AccessAZ1Subnet
AccessAZ2Subnet=${STACK_PREFIX}-SUBNETS::AccessAZ2Subnet

XdfAZ1Subnet=${STACK_PREFIX}-SUBNETS::XdfAZ1Subnet
XdfAZ2Subnet=${STACK_PREFIX}-SUBNETS::XdfAZ2Subnet

ApAZ1Subnet=${STACK_PREFIX}-SUBNETS::ApAZ1Subnet
ApAZ2Subnet=${STACK_PREFIX}-SUBNETS::ApfAZ2Subnet

MgmtAZ1Subnet=${STACK_PREFIX}-SUBNETS::MgmtAZ1Subnet
MgmtAZ2Subnet=${STACK_PREFIX}-SUBNETS::MgmtAZ2Subnet


## The bastions

RUN_DMZ_BASTION101_STACK=false
DMZ_BASTION101_STACK_NAME=${STACK_PREFIX}-BASTION101
DMZ_BASTION101_CF_TEMPLATE=server.cft
DMZ_BASTION101_CF_PARAM_Subnet=$DmzAZ1Subnet
DMZ_BASTION101_CF_PARAM_AssignEIP=True
DMZ_BASTION101_CF_PARAM_NodeName=bastion
DMZ_BASTION101_CF_PARAM_NodeIndex=101
DMZ_BASTION101_CF_PARAM_AppInstanceType=m3.medium
DMZ_BASTION101_CF_PARAM_AppInstanceProfile=$BastionRoleProfile
DMZ_BASTION101_CF_PARAM_ChefEnv=sncrbda-prod
DMZ_BASTION101_CF_PARAM_ChefRoles=base,bastion
DMZ_BASTION101_CF_PARAM_InternalSG=$InternalVpcSG
DMZ_BASTION101_CF_PARAM_ExternalSG=$BastionSG
DMZ_BASTION101_CF_PARAM_AppSG=$NullSG

RUN_DMZ_FTP101_STACK=false
DMZ_FTP101_STACK_NAME=${STACK_PREFIX}-FTP101
DMZ_FTP101_CF_TEMPLATE=server.cft
DMZ_FTP101_CF_PARAM_Subnet=$DmzAZ1Subnet
DMZ_FTP101_CF_PARAM_AssignEIP=True
DMZ_FTP101_CF_PARAM_NodeName=ftp
DMZ_FTP101_CF_PARAM_NodeIndex=101
DMZ_FTP101_CF_PARAM_AppInstanceType=m3.medium
DMZ_FTP101_CF_PARAM_AppInstanceProfile=$BastionRoleProfile
DMZ_FTP101_CF_PARAM_ChefEnv=sncrbda-dev
DMZ_FTP101_CF_PARAM_ChefRoles=base
DMZ_FTP101_CF_PARAM_InternalSG=$InternalVpcSG
DMZ_FTP101_CF_PARAM_ExternalSG=$BastionSG
DMZ_FTP101_CF_PARAM_AppSG=$NullSG

RUN_DMZ_BASTION201_STACK=false
DMZ_BASTION201_STACK_NAME=${STACK_PREFIX}-BASTION201
DMZ_BASTION201_CF_TEMPLATE=server.cft
DMZ_BASTION201_CF_PARAM_Subnet=$DmzAZ2Subnet
DMZ_BASTION201_CF_PARAM_AssignEIP=True
DMZ_BASTION201_CF_PARAM_NodeName=bastion
DMZ_BASTION201_CF_PARAM_NodeIndex=201
DMZ_BASTION201_CF_PARAM_AppInstanceType=m3.small
DMZ_BASTION201_CF_PARAM_AppInstanceProfile=$BastionRoleProfile
DMZ_BASTION201_CF_PARAM_ChefEnv=sncrbda-prod
DMZ_BASTION201_CF_PARAM_ChefRoles=base,bastion
DMZ_BASTION201_CF_PARAM_InternalSG=$InternalVpcSG
DMZ_BASTION201_CF_PARAM_ExternalSG=$BastionSG
DMZ_BASTION201_CF_PARAM_AppSG=$NullSG

RUN_NATGATEWAY_AZ1_STACK=false
NATGATEWAY_AZ1_STACK_NAME=${STACK_PREFIX}-NATGW-AZ1
NATGATEWAY_AZ1_CF_TEMPLATE=network-natgateway.cft
NATGATEWAY_AZ1_CF_PARAM_Subnet=$AccessAZ1Subnet
NATGATEWAY_AZ1_CF_PARAM_PrivateRTB=$PrivateAz1RT

RUN_NATGATEWAY_AZ2_STACK=false
NATGATEWAY_AZ2_STACK_NAME=${STACK_PREFIX}-NATGW-AZ2
NATGATEWAY_AZ2_CF_TEMPLATE=network-natgateway.cft
NATGATEWAY_AZ2_CF_PARAM_Subnet=$AccessAZ2Subnet
NATGATEWAY_AZ2_CF_PARAM_PrivateRTB=$PrivateAz2RT

#########################################################
#
# XDF Subnet Resources
#
#########################################################

RUN_XDFNODE_SG_STACK=false
XDFNODE_SG_STACK_NAME=${STACK_PREFIX}-XDFNODESG
XDFNODE_SG_CF_TEMPLATE=xdf-node-sg.cft
XdfNodeSG=${STACK_PREFIX}-XDFNODESG::XdfNodeSG

RUN_XDF_ACCESS_STACK=false
XDF_ACCESS_STACK_NAME=${STACK_PREFIX}-XDFACCESS
XDF_ACCESS_CF_TEMPLATE=xdf-access.cft

# The Console (ELB) Security group defaults

MaprConsolePort=8443
SparkConsolePort=8080
DrillConsolePort=8047
OozieConsolePort=11000
SawConsolePort=443
RtfeConsolePort=9100

MaprNodeInstanceType=m3.xlarge
RtfeNodeInstanceType=m3.xlarge
EsapNodeInstanceType=m3.xlarge

RUN_MAPR_PG_STACK=false
MAPR_PG_STACK_NAME=${STACK_PREFIX}-MAPR-PG
MAPR_PG_CF_TEMPLATE=ec2-placementgroup.cft

RUN_MAPR_POC_NODE_STACK=0
MAPR_POC_NODE_STACK_NAME=${STACK_PREFIX}-MAPR-POC-NODE
MAPR_POC_NODE_CF_TEMPLATE=server.cft
MAPR_POC_NODE_CF_PARAM_SUBNETS=$XdfAZ1Subnet
MAPR_POC_NODE_CF_PARAM_NodeName=maprpoc
MAPR_POC_NODE_CF_PARAM_NodeIndex=101
MAPR_POC_NODE_CF_PARAM_AppInstanceType=$MaprNodeInstanceType
MAPR_POC_NODE_CF_PARAM_RootDiskSize=20
MAPR_POC_NODE_CF_PARAM_Volume1=50,gp2,/dev/xvdf,/opt
MAPR_POC_NODE_CF_PARAM_Volume2=60,gp2,/dev/xvdg,/tmp
MAPR_POC_NODE_CF_PARAM_ChefEnv=sncrbda-poc
MAPR_POC_NODE_CF_PARAM_ChefRoles=base,rsyslog-client,mapr_node
MAPR_POC_NODE_CF_PARAM_InternalSG=$InternalVpcSG
MAPR_POC_NODE_CF_PARAM_ExternalSG=$NullSG
MAPR_POC_NODE_CF_PARAM_AppSG=$XdfNodeSG
MAPR_POC_NODE_CF_PARAM_MaxProvisionTime=0

RUN_MAPR_MCT_NODE_STACK=0
MAPR_MCT_NODE_STACK_NAME=${STACK_PREFIX}-MAPR-MCT-NODE
MAPR_MCT_NODE_CF_TEMPLATE=server.cft
MAPR_MCT_NODE_CF_PARAM_SUBNETS=$XdfAZ1Subnet
MAPR_MCT_NODE_CF_PARAM_NodeName=mapr-mct-
MAPR_MCT_NODE_CF_PARAM_NodeIndex=101
MAPR_MCT_NODE_CF_PARAM_AppInstanceType=$MaprNodeInstanceType
MAPR_MCT_NODE_CF_PARAM_RootDiskSize=20
MAPR_MCT_NODE_CF_PARAM_Volume1=128,gp2,/dev/xvdf,/opt
MAPR_MCT_NODE_CF_PARAM_Volume2=40,gp2,/dev/xvdg,/tmp
MAPR_MCT_NODE_CF_PARAM_ChefEnv=sncrbda-mct-prod
MAPR_MCT_NODE_CF_PARAM_ChefRoles=base
MAPR_MCT_NODE_CF_PARAM_InternalSG=$InternalVpcSG
MAPR_MCT_NODE_CF_PARAM_ExternalSG=$NullSG
MAPR_MCT_NODE_CF_PARAM_AppSG=$XdfNodeSG
MAPR_MCT_NODE_CF_PARAM_MaxProvisionTime=0


RUN_MAPR_NODE_STACK=0
MAPR_NODE_STACK_NAME=${STACK_PREFIX}-MAPR-NODE
MAPR_NODE_CF_TEMPLATE=server.cft
MAPR_NODE_CF_PARAM_SUBNETS=$XdfAZ1Subnet
MAPR_NODE_CF_PARAM_NodeName=mapr
MAPR_NODE_CF_PARAM_AppInstanceType=$MaprNodeInstanceType
MAPR_NODE_CF_PARAM_RootDiskSize=20
MAPR_NODE_CF_PARAM_Volume1=128,gp2,/dev/xvdf,/opt
MAPR_NODE_CF_PARAM_Volume2=40,gp2,/dev/xvdg,/tmp
MAPR_NODE_CF_PARAM_ChefRoles=base,rsyslog-client
MAPR_NODE_CF_PARAM_InternalSG=$InternalVpcSG
MAPR_NODE_CF_PARAM_ExternalSG=$NullSG
MAPR_NODE_CF_PARAM_AppSG=$XdfNodeSG
MAPR_NODE_CF_PARAM_MaxProvisionTime=0

# The Real-Time front ends

RUN_RTFE_NODE_STACK=0
RTFE_NODE_STACK_NAME=${STACK_PREFIX}-RTFE-NODE
RTFE_NODE_CF_TEMPLATE=server.cft
RTFE_NODE_CF_PARAM_SUBNETS=$XdfAZ1Subnet
RTFE_NODE_CF_PARAM_NodeName=rtfe
RTFE_NODE_CF_PARAM_AppInstanceType=$RtfeNodeInstanceType
RTFE_NODE_CF_PARAM_ChefRoles=base,rsyslog-client,rtfe
RTFE_NODE_CF_PARAM_InternalSG=$InternalVpcSG
RTFE_NODE_CF_PARAM_ExternalSG=$NullSG
RTFE_NODE_CF_PARAM_AppSG=$NullSG
RTFE_NODE_CF_PARAM_MaxProvisionTime=0

RUN_MCT_RTFE_NODE_STACK=0
MCT_RTFE_NODE_STACK_NAME=${STACK_PREFIX}-RTFE-MCT-NODE
MCT_RTFE_NODE_CF_TEMPLATE=server.cft
MCT_RTFE_NODE_CF_PARAM_SUBNETS=$XdfAZ1Subnet
MCT_RTFE_NODE_CF_PARAM_NodeName=rtfe-mct-
MCT_RTFE_NODE_CF_PARAM_AppInstanceType=$RtfeNodeInstanceType
MCT_RTFE_NODE_CF_PARAM_ChefRoles=base,rsyslog-client,rtfe
MCT_RTFE_NODE_CF_PARAM_InternalSG=$InternalVpcSG
MCT_RTFE_NODE_CF_PARAM_ExternalSG=$NullSG
MCT_RTFE_NODE_CF_PARAM_AppSG=$NullSG
MCT_RTFE_NODE_CF_PARAM_MaxProvisionTime=0

# # set to 0 or 1
# RUN_MAPR_SPARKMASTER_NODE_STACK=0
# MAPR_SPARKMASTER_NODE_STACK_NAME=${STACK_PREFIX}-SPARKMASTER-NODE
# MAPR_SPARKMASTER_NODE_CF_TEMPLATE=server.cft
# MAPR_SPARKMASTER_NODE_CF_PARAM_SUBNETS=$XdfAZ1Subnet
# MAPR_SPARKMASTER_NODE_CF_PARAM_NodeName=mapr
# MAPR_SPARKMASTER_NODE_CF_PARAM_AppInstanceType=$MaprNodeInstanceType
# MAPR_SPARKMASTER_NODE_CF_PARAM_ChefRoles=base,mapr_node,mapr_spark_master
# MAPR_SPARKMASTER_NODE_CF_PARAM_InternalSG=$InternalVpcSG
# MAPR_SPARKMASTER_NODE_CF_PARAM_ExternalSG=$NullSG
# MAPR_SPARKMASTER_NODE_CF_PARAM_AppSG=$NullSG
# MAPR_SPARKMASTER_NODE_CF_PARAM_MaxProvisionTime=0

# # set to the number of spark worker nodes you want
# RUN_MAPR_SPARKWORKER_NODE_STACK=0
# MAPR_SPARKWORKER_NODE_STACK_NAME=${STACK_PREFIX}-SPARKWORKER-NODE
# MAPR_SPARKWORKER_NODE_CF_TEMPLATE=server.cft
# MAPR_SPARKWORKER_NODE_CF_PARAM_SUBNETS=$XdfAZ1Subnet
# MAPR_SPARKWORKER_NODE_CF_PARAM_NodeName=mapr
# MAPR_SPARKWORKER_NODE_CF_PARAM_AppInstanceType=$MaprNodeInstanceType
# MAPR_SPARKWORKER_NODE_CF_PARAM_ChefRoles=base,mapr_node,mapr_spark_worker
# MAPR_SPARKWORKER_NODE_CF_PARAM_InternalSG=$InternalVpcSG
# MAPR_SPARKWORKER_NODE_CF_PARAM_ExternalSG=$NullSG
# MAPR_SPARKWORKER_NODE_CF_PARAM_AppSG=$NullSG
# MAPR_SPARKWORKER_NODE_CF_PARAM_MaxProvisionTime=0

# # set to the number of drill nodes you want
# RUN_MAPR_DRILL_NODE_STACK=0
# MAPR_DRILL_NODE_STACK_NAME=${STACK_PREFIX}-DRILL-NODE
# MAPR_DRILL_NODE_CF_TEMPLATE=server.cft
# MAPR_DRILL_NODE_CF_PARAM_SUBNETS=$XdfAZ1Subnet
# MAPR_DRILL_NODE_CF_PARAM_NodeName=mapr
# MAPR_DRILL_NODE_CF_PARAM_AppInstanceType=$MaprNodeInstanceType
# MAPR_DRILL_NODE_CF_PARAM_ChefRoles=base,mapr_node,mapr_drill_worker
# MAPR_DRILL_NODE_CF_PARAM_InternalSG=$InternalVpcSG
# MAPR_DRILL_NODE_CF_PARAM_ExternalSG=$NullSG
# MAPR_DRILL_NODE_CF_PARAM_AppSG=$NullSG
# MAPR_DRILL_NODE_CF_PARAM_MaxProvisionTime=0

# now build the consoles

RUN_MAPR_CONSOLE_SG_STACK=false
MAPR_CONSOLE_SG_STACK_NAME=${STACK_PREFIX}-MAPR-CONSOLE-SG
MAPR_CONSOLE_SG_CF_TEMPLATE=mapr-console-sg.cft
MAPR_CONSOLE_SG_CF_PARAM_Port=$MaprConsolePort
MAPR_CONSOLE_SG_CF_PARAM_Description=MapR-UI-Console

RUN_SPARK_CONSOLE_SG_STACK=false
SPARK_CONSOLE_SG_STACK_NAME=${STACK_PREFIX}-SPARK-CONSOLE-SG
SPARK_CONSOLE_SG_CF_TEMPLATE=mapr-console-sg.cft
SPARK_CONSOLE_SG_CF_PARAM_Port=$SparkConsolePort
SPARK_CONSOLE_SG_CF_PARAM_Description=Spark-UI-Console

RUN_MCT_MAPR_CONSOLE_SG_STACK=false
MCT_MAPR_CONSOLE_SG_STACK_NAME=${STACK_PREFIX}-MCT-MAPR-CONSOLE-SG
MCT_MAPR_CONSOLE_SG_CF_TEMPLATE=mapr-console-sg.cft
MCT_MAPR_CONSOLE_SG_CF_PARAM_Port=$MaprConsolePort
MCT_MAPR_CONSOLE_SG_CF_PARAM_Description=MCT-MapR-UI-Console

RUN_MCT_SPARK_CONSOLE_SG_STACK=false
MCT_SPARK_CONSOLE_SG_STACK_NAME=${STACK_PREFIX}-MCT-SPARK-CONSOLE-SG
MCT_SPARK_CONSOLE_SG_CF_TEMPLATE=mapr-console-sg.cft
MCT_SPARK_CONSOLE_SG_CF_PARAM_Port=$SparkConsolePort
MCT_SPARK_CONSOLE_SG_CF_PARAM_Description=MCT-Spark-UI-Console


RUN_MCT_RTFE_CONSOLE_SG_STACK=false
MCT_RTFE_CONSOLE_SG_STACK_NAME=${STACK_PREFIX}-MCT-RTFE-CONSOLE-SG
MCT_RTFE_CONSOLE_SG_CF_TEMPLATE=mapr-console-sg.cft
MCT_RTFE_CONSOLE_SG_CF_PARAM_Port=$RtfeConsolePort
MCT_RTFE_CONSOLE_SG_CF_PARAM_Description=MCT-RTFE-UI-Console



RUN_DRILL_CONSOLE_SG_STACK=false
DRILL_CONSOLE_SG_STACK_NAME=${STACK_PREFIX}-DRILL-CONSOLE-SG
DRILL_CONSOLE_SG_CF_TEMPLATE=mapr-console-sg.cft
DRILL_CONSOLE_SG_CF_PARAM_Port=$DrillConsolePort
DRILL_CONSOLE_SG_CF_PARAM_Description=Drill-UI-Console

RUN_MCT_DRILL_CONSOLE_SG_STACK=false
MCT_DRILL_CONSOLE_SG_STACK_NAME=${STACK_PREFIX}-MCT-DRILL-CONSOLE-SG
MCT_DRILL_CONSOLE_SG_CF_TEMPLATE=mapr-console-sg.cft
MCT_DRILL_CONSOLE_SG_CF_PARAM_Port=$DrillConsolePort
MCT_DRILL_CONSOLE_SG_CF_PARAM_Description=Drill-UI-Console

RUN_OOZIE_CONSOLE_SG_STACK=false
OOZIE_CONSOLE_SG_STACK_NAME=${STACK_PREFIX}-OOZIE-CONSOLE-SG
OOZIE_CONSOLE_SG_CF_TEMPLATE=mapr-console-sg.cft
OOZIE_CONSOLE_SG_CF_PARAM_Port=$OozieConsolePort
OOZIE_CONSOLE_SG_CF_PARAM_Description=Oozie-UI-Console

RUN_MCT_OOZIE_CONSOLE_SG_STACK=false
MCT_OOZIE_CONSOLE_SG_STACK_NAME=${STACK_PREFIX}-MCT-OOZIE-CONSOLE-SG
MCT_OOZIE_CONSOLE_SG_CF_TEMPLATE=mapr-console-sg.cft
MCT_OOZIE_CONSOLE_SG_CF_PARAM_Port=$OozieConsolePort
MCT_OOZIE_CONSOLE_SG_CF_PARAM_Description=MCT-Oozie-UI-Console

RUN_SAW_CONSOLE_SG_STACK=false
SAW_CONSOLE_SG_STACK_NAME=${STACK_PREFIX}-SAW-CONSOLE-SG
SAW_CONSOLE_SG_CF_TEMPLATE=mapr-console-sg.cft
SAW_CONSOLE_SG_CF_PARAM_Port=$SawConsolePort
SAW_CONSOLE_SG_CF_PARAM_Description=SAW-UI-Console

# The Console ELBs defaults

RUN_MAPR_CONSOLE_ELB_STACK=false
MAPR_CONSOLE_ELB_STACK_NAME=${STACK_PREFIX}-MAPR-CONSOLE-ELB
MAPR_CONSOLE_ELB_CF_TEMPLATE=simple-elb.cft
MAPR_CONSOLE_ELB_CF_PARAM_InPort=$MaprConsolePort
MAPR_CONSOLE_ELB_CF_PARAM_OutPort=$MaprConsolePort
MAPR_CONSOLE_ELB_CF_PARAM_Subnets=$AccessAZ1Subnet
MAPR_CONSOLE_ELB_CF_PARAM_SecurityGroups=${STACK_PREFIX}-MAPR-CONSOLE-SG::MaprConsoleSG
MAPR_CONSOLE_ELB_CF_PARAM_ElbCNAME=mapr
MAPR_CONSOLE_ELB_CF_PARAM_Instances=i-00000000

RUN_MCT_MAPR_CONSOLE_ELB_STACK=false
MCT_MAPR_CONSOLE_ELB_STACK_NAME=${STACK_PREFIX}-MCT-MAPR-CONSOLE-ELB
MCT_MAPR_CONSOLE_ELB_CF_TEMPLATE=simple-elb.cft
MCT_MAPR_CONSOLE_ELB_CF_PARAM_InPort=$MaprConsolePort
MCT_MAPR_CONSOLE_ELB_CF_PARAM_OutPort=$MaprConsolePort
MCT_MAPR_CONSOLE_ELB_CF_PARAM_Subnets=$AccessAZ1Subnet
MCT_MAPR_CONSOLE_ELB_CF_PARAM_SecurityGroups=${STACK_PREFIX}-MCT-MAPR-CONSOLE-SG::MaprConsoleSG
MCT_MAPR_CONSOLE_ELB_CF_PARAM_ElbCNAME=MCS
MCT_MAPR_CONSOLE_ELB_CF_PARAM_Instances=i-00000000

RUN_MCT_RTFE_CONSOLE_ELB_STACK=false
MCT_RTFE_CONSOLE_ELB_STACK_NAME=${STACK_PREFIX}-MCT-RTFE-CONSOLE-ELB
MCT_RTFE_CONSOLE_ELB_CF_TEMPLATE=simple-elb.cft
MCT_RTFE_CONSOLE_ELB_CF_PARAM_InPort=$MaprConsolePort
MCT_RTFE_CONSOLE_ELB_CF_PARAM_OutPort=$MaprConsolePort
MCT_RTFE_CONSOLE_ELB_CF_PARAM_Subnets=$AccessAZ1Subnet
MCT_RTFE_CONSOLE_ELB_CF_PARAM_SecurityGroups=${STACK_PREFIX}-MCT-RTFE-CONSOLE-SG::MaprConsoleSG
MCT_RTFE_CONSOLE_ELB_CF_PARAM_ElbCNAME=mctRealtime
MCT_RTFE_CONSOLE_ELB_CF_PARAM_Instances=i-00000000


RUN_SPARK_CONSOLE_ELB_STACK=false
SPARK_CONSOLE_ELB_STACK_NAME=${STACK_PREFIX}-SPARK-CONSOLE-ELB
SPARK_CONSOLE_ELB_CF_TEMPLATE=simple-elb.cft
SPARK_CONSOLE_ELB_CF_PARAM_InPort=$SparkConsolePort
SPARK_CONSOLE_ELB_CF_PARAM_OutPort=$SparkConsolePort
SPARK_CONSOLE_ELB_CF_PARAM_Subnets=$AccessAZ1Subnet
SPARK_CONSOLE_ELB_CF_PARAM_SecurityGroups=${STACK_PREFIX}-SPARK-CONSOLE-SG::MaprConsoleSG
SPARK_CONSOLE_ELB_CF_PARAM_ElbCNAME=mctspark
SPARK_CONSOLE_ELB_CF_PARAM_Instances=i-00000000


RUN_MCT_SPARK_CONSOLE_ELB_STACK=false
MCT_SPARK_CONSOLE_ELB_STACK_NAME=${STACK_PREFIX}-MCT-SPARK-CONSOLE-ELB
MCT_SPARK_CONSOLE_ELB_CF_TEMPLATE=simple-elb.cft
MCT_SPARK_CONSOLE_ELB_CF_PARAM_InPort=$SparkConsolePort
MCT_SPARK_CONSOLE_ELB_CF_PARAM_OutPort=$SparkConsolePort
MCT_SPARK_CONSOLE_ELB_CF_PARAM_Subnets=$AccessAZ1Subnet
MCT_SPARK_CONSOLE_ELB_CF_PARAM_SecurityGroups=${STACK_PREFIX}-MCT-SPARK-CONSOLE-SG::MaprConsoleSG
MCT_SPARK_CONSOLE_ELB_CF_PARAM_ElbCNAME=mctspark
MCT_SPARK_CONSOLE_ELB_CF_PARAM_Instances=i-00000000


RUN_DRILL_CONSOLE_ELB_STACK=false
DRILL_CONSOLE_ELB_STACK_NAME=${STACK_PREFIX}-DRILL-CONSOLE-ELB
DRILL_CONSOLE_ELB_CF_TEMPLATE=simple-elb.cft
DRILL_CONSOLE_ELB_CF_PARAM_InPort=$DrillConsolePort
DRILL_CONSOLE_ELB_CF_PARAM_OutPort=$DrillConsolePort
DRILL_CONSOLE_ELB_CF_PARAM_Subnets=$AccessAZ1Subnet
DRILL_CONSOLE_ELB_CF_PARAM_SecurityGroups=${STACK_PREFIX}-DRILL-CONSOLE-SG::MaprConsoleSG
DRILL_CONSOLE_ELB_CF_PARAM_ElbCNAME=drill
DRILL_CONSOLE_ELB_CF_PARAM_Instances=i-00000000

RUN_MCT_DRILL_CONSOLE_ELB_STACK=false
MCT_DRILL_CONSOLE_ELB_STACK_NAME=${STACK_PREFIX}-MCT-DRILL-CONSOLE-ELB
MCT_DRILL_CONSOLE_ELB_CF_TEMPLATE=simple-elb.cft
MCT_DRILL_CONSOLE_ELB_CF_PARAM_InPort=$DrillConsolePort
MCT_DRILL_CONSOLE_ELB_CF_PARAM_OutPort=$DrillConsolePort
MCT_DRILL_CONSOLE_ELB_CF_PARAM_Subnets=$AccessAZ1Subnet
MCT_DRILL_CONSOLE_ELB_CF_PARAM_SecurityGroups=${STACK_PREFIX}-MCT-DRILL-CONSOLE-SG::MaprConsoleSG
MCT_DRILL_CONSOLE_ELB_CF_PARAM_ElbCNAME=drill-mct
MCT_DRILL_CONSOLE_ELB_CF_PARAM_Instances=i-00000000

RUN_OOZIE_CONSOLE_ELB_STACK=false
OOZIE_CONSOLE_ELB_STACK_NAME=${STACK_PREFIX}-OOZIE-CONSOLE-ELB
OOZIE_CONSOLE_ELB_CF_TEMPLATE=simple-elb.cft
OOZIE_CONSOLE_ELB_CF_PARAM_InPort=$OozieConsolePort
OOZIE_CONSOLE_ELB_CF_PARAM_OutPort=$OozieConsolePort
OOZIE_CONSOLE_ELB_CF_PARAM_Subnets=$AccessAZ1Subnet
OOZIE_CONSOLE_ELB_CF_PARAM_SecurityGroups=${STACK_PREFIX}-OOZIE-CONSOLE-SG::MaprConsoleSG
OOZIE_CONSOLE_ELB_CF_PARAM_ElbCNAME=oozie
OOZIE_CONSOLE_ELB_CF_PARAM_Instances=i-00000000

RUN_MCT_OOZIE_CONSOLE_ELB_STACK=false
MCT_OOZIE_CONSOLE_ELB_STACK_NAME=${STACK_PREFIX}-MCT-OOZIE-CONSOLE-ELB
MCT_OOZIE_CONSOLE_ELB_CF_TEMPLATE=simple-elb.cft
MCT_OOZIE_CONSOLE_ELB_CF_PARAM_InPort=$OozieConsolePort
MCT_OOZIE_CONSOLE_ELB_CF_PARAM_OutPort=$OozieConsolePort
MCT_OOZIE_CONSOLE_ELB_CF_PARAM_Subnets=$AccessAZ1Subnet
MCT_OOZIE_CONSOLE_ELB_CF_PARAM_SecurityGroups=${STACK_PREFIX}-MCT-OOZIE-CONSOLE-SG::MaprConsoleSG
MCT_OOZIE_CONSOLE_ELB_CF_PARAM_ElbCNAME=oozie-mct
MCT_OOZIE_CONSOLE_ELB_CF_PARAM_Instances=i-00000000

RUN_SAW_CONSOLE_ELB_STACK=false
SAW_CONSOLE_ELB_STACK_NAME=${STACK_PREFIX}-SAW-CONSOLE-ELB
SAW_CONSOLE_ELB_CF_TEMPLATE=simple-elb.cft
SAW_CONSOLE_ELB_CF_PARAM_InPort=$SawConsolePort
SAW_CONSOLE_ELB_CF_PARAM_OutPort=$SawConsolePort
SAW_CONSOLE_ELB_CF_PARAM_Subnets=$AccessAZ1Subnet
SAW_CONSOLE_ELB_CF_PARAM_SecurityGroups=${STACK_PREFIX}-SAW-CONSOLE-SG::MaprConsoleSG
SAW_CONSOLE_ELB_CF_PARAM_ElbCNAME=insight
SAW_CONSOLE_ELB_CF_PARAM_Instances=i-00000000

#########################################################
#
# AP (Analytics Portal) Subnet Resources
#
#########################################################

# maybe?  dpopon'tknow if we need a specific sg for esap nodes
#RUN_ESAPNODE_SG_STACK=false
#ESAPNODE_SG_STACK_NAME=${STACK_PREFIX}-ESAPNODESG
#ESAPNODE_SG_CF_TEMPLATE=esap-node-sg.cft
#ESAPNodeSG=${STACK_PREFIX}-ESAPNODESG::EsapNodeSG

RUN_ESAP_NODE_STACK=0
ESAP_NODE_STACK_NAME=${STACK_PREFIX}-ESAP-NODE
ESAP_NODE_CF_TEMPLATE=server.cft
ESAP_NODE_CF_PARAM_SUBNETS=$ApAZ1Subnet
ESAP_NODE_CF_PARAM_NodeName=esap
ESAP_NODE_CF_PARAM_AppInstanceType=$EsapNodeInstanceType
ESAP_NODE_CF_PARAM_RootDiskSize=20
ESAP_NODE_CF_PARAM_Volume1=20,gp2,/dev/xvdf,/tmp
ESAP_NODE_CF_PARAM_Volume2=40,gp2,/dev/xvdg,/opt
ESAP_NODE_CF_PARAM_Volume3=80,gp2,/dev/xvdh,/var/data/es
ESAP_NODE_CF_PARAM_ChefRoles=base,rsyslog-client,esap
ESAP_NODE_CF_PARAM_InternalSG=$InternalVpcSG
ESAP_NODE_CF_PARAM_ExternalSG=$NullSG
ESAP_NODE_CF_PARAM_AppSG=$NullSG
ESAP_NODE_CF_PARAM_MaxProvisionTime=0

EsapConsolePort=9200

RUN_ESAP_CONSOLE_SG_STACK=false
ESAP_CONSOLE_SG_STACK_NAME=${STACK_PREFIX}-ESAP-CONSOLE-SG
ESAP_CONSOLE_SG_CF_TEMPLATE=esap-console-sg.cft
ESAP_CONSOLE_SG_CF_PARAM_Port=$EsapConsolePort
ESAP_CONSOLE_SG_CF_PARAM_Description=Esap-UI-Console

RUN_ESAP_CONSOLE_ELB_STACK=false
ESAP_CONSOLE_ELB_STACK_NAME=${STACK_PREFIX}-ESAP-CONSOLE-ELB
ESAP_CONSOLE_ELB_CF_TEMPLATE=simple-elb.cft
ESAP_CONSOLE_ELB_CF_PARAM_InPort=$EsapConsolePort
ESAP_CONSOLE_ELB_CF_PARAM_OutPort=$EsapConsolePort
ESAP_CONSOLE_ELB_CF_PARAM_Subnets=$AccessAZ1Subnet
ESAP_CONSOLE_ELB_CF_PARAM_SecurityGroups=${STACK_PREFIX}-ESAP-CONSOLE-SG::EsapConsoleSG
ESAP_CONSOLE_ELB_CF_PARAM_ElbCNAME=esap
ESAP_CONSOLE_ELB_CF_PARAM_Instances=i-00000000

########################################################
#
# MGMT Subnet Resources
#
#########################################################

RUN_DEPLOY101_STACK=false
DEPLOY101_STACK_NAME=${STACK_PREFIX}-DEPLOY101
DEPLOY101_CF_TEMPLATE=server.cft
DEPLOY101_CF_PARAM_Subnet=$MgmtAZ1Subnet
DEPLOY101_CF_PARAM_NodeName=deploy
DEPLOY101_CF_PARAM_NodeIndex=101
DEPLOY101_CF_PARAM_ChefRoles=base,deploy,rsyslog-client
DEPLOY101_CF_PARAM_InternalSG=$InternalVpcSG
DEPLOY101_CF_PARAM_ExternalSG=$NullSG
DEPLOY101_CF_PARAM_AppSG=$NullSG
DEPLOY101_CF_PARAM_MaxProvisionTime=0

RUN_NAGIOS101_STACK=false
NAGIOS101_STACK_NAME=${STACK_PREFIX}-NAGIOS101
NAGIOS101_CF_TEMPLATE=server.cft
NAGIOS101_CF_PARAM_Subnet=$MgmtAZ1Subnet
NAGIOS101_CF_PARAM_NodeName=nagios
NAGIOS101_CF_PARAM_NodeIndex=101
NAGIOS101_CF_PARAM_ChefRoles=base
NAGIOS101_CF_PARAM_InternalSG=$InternalVpcSG
NAGIOS101_CF_PARAM_ExternalSG=$NullSG
NAGIOS101_CF_PARAM_AppSG=$NullSG
NAGIOS101_CF_PARAM_MaxProvisionTime=0

RUN_MCT_SAW101_STACK=false
MCT_SAW101_STACK_NAME=${STACK_PREFIX}-MCT-SAW101
MCT_SAW101_CF_TEMPLATE=server.cft
MCT_SAW101_CF_PARAM_Subnet=$ApAZ1Subnet
MCT_SAW101_CF_PARAM_RootDiskSize=20
MCT_SAW101_CF_PARAM_Volume1=20,gp2,/dev/xvdf,/tmp
MCT_SAW101_CF_PARAM_Volume2=40,gp2,/dev/xvdg,/opt
MCT_SAW101_CF_PARAM_NodeName=saw-mct-
MCT_SAW101_CF_PARAM_NodeIndex=101
MCT_SAW101_CF_PARAM_ChefRoles=base
MCT_SAW101_CF_PARAM_InternalSG=$InternalVpcSG
MCT_SAW101_CF_PARAM_ExternalSG=$NullSG
MCT_SAW101_CF_PARAM_AppSG=$NullSG
MCT_SAW101_CF_PARAM_MaxProvisionTime=0

RUN_RSYSLOG101_STACK=false
RSYSLOG101_STACK_NAME=${STACK_PREFIX}-RSYSLOG101
RSYSLOG101_CF_TEMPLATE=server.cft
RSYSLOG101_CF_PARAM_Subnet=$MgmtAZ1Subnet
RSYSLOG101_CF_PARAM_NodeName=rsyslog
RSYSLOG101_CF_PARAM_PrivateCNAME=logserver
RSYSLOG101_CF_PARAM_NodeIndex=101
RSYSLOG101_CF_PARAM_Volume1=50,gp2,/dev/xvdf,/var/rlogs
RSYSLOG101_CF_PARAM_ChefRoles=base,rsyslog-server
RSYSLOG101_CF_PARAM_InternalSG=$InternalVpcSG
RSYSLOG101_CF_PARAM_ExternalSG=$NullSG
RSYSLOG101_CF_PARAM_AppSG=$NullSG
RSYSLOG101_CF_PARAM_MaxProvisionTime=0

[PROD]

################################
#
#  perf cluster in aws prod
#
#
#  This incf file is meant to be used in conjunction with the -dev.incf
#
#  Note that the enviropment is listed as dev
#    That is so it can reference all the existing dev stacks and resources
#
#  It will typically be called with a command line like
#    provision_aws -c sncrbda-prod-perf.conf prod
#
#
#  But ...
#    * The resources that it creates need to be launched with different
#      stack names, specifically SNRCBDAPROD-PERF-...
#
#    * the nodes will be in the sncrbda-dev-rt chef environment
#


############################################################
## most of this file must not be changed.
## the settings are form the generic dev environment
############################################################

AWS_PROFILE=sncr-bda
PRIVATE_BUCKET=private.prod.sncrbda.sncr

PrivateBucketName=private.prod.sncrbda.sncr
PublicBucketName=public.prod.sncrbda.sncr
Domain=sncrbda.prod.cloud.synchronoss.net
Environment=prod
KeyPair=sncr-bda-prod

ChefEnv=sncrbda-prod-perf

#########################################################
#
# XDF Subnet Resources
#
#########################################################

MaprNodeInstanceType=r3.2xlarge
RtfeNodeInstanceType=m3.xlarge

RUN_XDFNODE_SG_STACK=false

RUN_MAPR_PG_STACK=false
MAPR_PG_STACK_NAME=${STACK_PREFIX}-PERF-MAPR-PG

# the following must be coordinated in the chef environment file
# cldb must point to a node
# zk must point to some number of nodes
# the web server must be on a node
# the order is important

RUN_MAPR_NODE_STACK=0
MAPR_NODE_STACK_NAME=${STACK_PREFIX}-PERF-MAPR-NODE
MAPR_NODE_CF_PARAM_AppInstanceType=$MaprNodeInstanceType
MAPR_NODE_CF_PARAM_NodeName=perfmapr
MAPR_NODE_CF_PARAM_Volume3=50,gp2,/dev/xvdp,none
MAPR_NODE_CF_PARAM_Volume4=50,gp2,/dev/xvdq,none
MAPR_NODE_CF_PARAM_Volume5=50,gp2,/dev/xvdr,none
MAPR_NODE_CF_PARAM_ClusterPG=${STACK_PREFIX}-PERF-MAPR-PG::ClusterPG

RUN_RTFE_NODE_STACK=0
RTFE_NODE_STACK_NAME=${STACK_PREFIX}-PERF-RTFE-NODE
RTFE_NODE_CF_PARAM_NodeName=rtfe

# create the elbs and their security groups for the consoles
# see [defaults] for details

RUN_MAPR_CONSOLE_SG_STACK=false
RUN_SPARK_CONSOLE_SG_STACK=false
RUN_DRILL_CONSOLE_SG_STACK=false
RUN_OOZIE_CONSOLE_SG_STACK=false

RUN_MAPR_CONSOLE_ELB_STACK=true
    MAPR_CONSOLE_ELB_STACK_NAME=${STACK_PREFIX}-PERF-MAPR-CONSOLE
    MAPR_CONSOLE_ELB_CF_PARAM_ElbCNAME=perfmapr
    MAPR_CONSOLE_ELB_CF_PARAM_Instances=SNCRBDAPROD-PERF-MAPR-NODE-101::Server

RUN_SPARK_CONSOLE_ELB_STACK=true
    SPARK_CONSOLE_ELB_STACK_NAME=${STACK_PREFIX}-PERF-SPARK-CONSOLE
    SPARK_CONSOLE_ELB_CF_PARAM_ElbCNAME=perfspark
    SPARK_CONSOLE_ELB_CF_PARAM_Instances=SNCRBDAPROD-PERF-MAPR-NODE-101::Server

RUN_DRILL_CONSOLE_ELB_STACK=true
    DRILL_CONSOLE_ELB_STACK_NAME=${STACK_PREFIX}-PERF-DRILL-CONSOLE
    DRILL_CONSOLE_ELB_CF_PARAM_ElbCNAME=perfdrill
    DRILL_CONSOLE_ELB_CF_PARAM_Instances=SNCRBDAPROD-PERF-MAPR-NODE-106::Server

RUN_OOZIE_CONSOLE_ELB_STACK=true
    OOZIE_CONSOLE_ELB_STACK_NAME=${STACK_PREFIX}-PERF-OOZIE-CONSOLE
    OOZIE_CONSOLE_ELB_CF_PARAM_ElbCNAME=perfoozie
    OOZIE_CONSOLE_ELB_CF_PARAM_Instances=SNCRBDAPROD-PERF-MAPR-NODE-102::Server
