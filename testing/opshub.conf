# use the .conf file for testing

[default]
AWS_REGION=us-east-1
CF_PROJECT=opshub
Project=opshub

ChefOrg=devops-opshub
ChefServerURL=https://chef-pabet.sncrcorp.net/organizations/devops-opshub
ChefProxyURL=https://chef-proxy.ivpc.prod.cloud.synchronoss.net:3128
# ChefProxyURL=http://chef-proxy.${Domain}:3128

[DEV]

# put environment "globals" first

AWS_PROFILE=aws-devops
PRIVATE_BUCKET=private.dev.devops.sncr

VpcCidr=10.236.120.0/22

Domain=devops.dev.cloud.synchronoss.net
Environment=DEV
KeyPair=opshub-devops
AppInstanceType=m3.medium

ExtraHelper=none
CNAME=none

# AMIs
#AMI_USE1_RHEL65_64=ami-1643ff7e

AMI_USE1_RHEL65_64=ami-b06a98d8

AMI_USE1_AMZL2014_09_1_64=ami-246ed34c

AMI_USE1_CENT67HVM=ami-f7c09592

InstanceAMI=$AMI_USE1_CENT67HVM

PrivateBucketName=private.dev.opshub.sncr
PublicBucketName=archive.dev.opshub.sncr

OperatorEmail='stephen.corbesero@synchronoss.com'
DbaEmail='stephen.corbesero@synchronoss.com'

ChefEnv=opshub-dev

RUN_IAM_ROLES_STACK=false
IAM_ROLES_STACK_NAME=OPSHUB-IAM-ROLES
IAM_ROLES_CF_TEMPLATE=iam-roles.cft
AppInstanceProfile=OPSHUB-IAM-ROLES::AppInstanceProfile
BastionRole=OPSHUB-IAM-ROLES::BastionRole
BastionRoleProfile=OPSHUB-IAM-ROLES::BastionRoleProfile
NatRole=OPSHUB-IAM-ROLES::NatRole
NatRoleProfile=OPSHUB-IAM-ROLES::NatRoleProfile

RUN_S3_BUCKETS_STACK=false
S3_BUCKETS_STACK_NAME=OPSHUB-S3
S3_BUCKETS_CF_TEMPLATE=s3-buckets.cft
S3_BUCKETS_CF_PARAM_AppRole=OPSHUB-IAM-ROLES::AppRole

RUN_CLOUDWATCH_STACK=false
CLOUDWATCH_STACK_NAME=OPSHUB-CW
CLOUDWATCH_CF_TEMPLATE=cloudwatch.cft
OpsAlertsTopic=OPSHUB-CW::OpsAlertsTopic

RUN_ROUTE53_STACK=false
ROUTE53_STACK_NAME=OPSHUB-ROUTE53
ROUTE53_CF_TEMPLATE=network-route53.cft

# remember to add the delagation sets of this zone to the master dns account

RUN_VPC_STACK=false
VPC_STACK_NAME=OPSHUB-VPC
VPC_CF_TEMPLATE=network-vpc.cft
#  uncomment to get a vgw VPC_CF_PARAM_VpnGwType=ipsec.1

VpcId=OPSHUB-VPC::VpcId
InternetGW=OPSHUB-VPC::IGW

VpcPeerID=pcx-f6b0439f
VpcPeerCIDR=10.236.100.0/23

RUN_ROUTING_STACK=false
ROUTING_STACK_NAME=OPSHUB-ROUTING
ROUTING_CF_TEMPLATE=network-routing.cft

PublicRT=OPSHUB-ROUTING::PublicRT
PrivateAz1RT=OPSHUB-ROUTING::PrivateAz1RT
PrivateAz2RT=OPSHUB-ROUTING::PrivateAz2RT

RUN_NETWORK_ACLS_STACK=false
NETWORK_ACLS_STACK_NAME=OPSHUB-ACLS
NETWORK_ACLS_CF_TEMPLATE=network-acls.cft
DefaultAcl=OPSHUB-ACLS::DefaultAcl

RUN_IAM_GROUPS_STACK=false
IAM_GROUPS_STACK_NAME=OPSHUB-IAM-GROUPS
IAM_GROUPS_CF_TEMPLATE=iam-groups.cft

RUN_SUBNETS_STACK=false
SUBNETS_STACK_NAME=OPSHUB-SUBNETS
SUBNETS_CF_TEMPLATE=network-subnets-dev.cft

DmzAZ1Subnet=OPSHUB-SUBNETS::DmzAZ1Subnet
DmzAZ2Subnet=OPSHUB-SUBNETS::DmzAZ2Subnet

PublicAZ1Subnet=OPSHUB-SUBNETS::PublicAZ1Subnet
PublicAZ2Subnet=OPSHUB-SUBNETS::PublicAZ2Subnet

PrivateAZ1Subnet=OPSHUB-SUBNETS::PrivateAZ1Subnet
PrivateAZ2Subnet=OPSHUB-SUBNETS::PrivateAZ2Subnet

MgmtAZ1Subnet=OPSHUB-SUBNETS::MgmtAZ1Subnet
MgmtAZ2Subnet=OPSHUB-SUBNETS::MgmtAZ2Subnet

RUN_NETWORK_SGS_STACK=false
NETWORK_SGS_STACK_NAME=OPSHUB-NETSGS
NETWORK_SGS_CF_TEMPLATE=network-sgs.cft

BastionSG=OPSHUB-NETSGS::BastionSG
InternalVpcSG=OPSHUB-NETSGS::InternalVpcSG
NullSG=OPSHUB-NETSGS::NullSG

RUN_CHEF_SERVER_STACK=false
CHEF_SERVER_STACK_NAME=OPSHUB-CHEF
CHEF_SERVER_CF_TEMPLATE=chef-server.cft
CHEF_SERVER_CF_PARAM_ChefServerURL=https://oh-chef.devops.dev.cloud.synchronoss.net
ChefServerSubnet=$MgmtAZ1Subnet

NatInstanceType=m3.medium

RUN_DMZ_BASTION101_STACK=false
DMZ_BASTION101_STACK_NAME=OPSHUB-BASTION101
DMZ_BASTION101_CF_TEMPLATE=server.cft
DMZ_BASTION101_CF_PARAM_Subnet=$DmzAZ1Subnet
DMZ_BASTION101_CF_PARAM_AssignEIP=True
DMZ_BASTION101_CF_PARAM_NodeName=bastion
DMZ_BASTION101_CF_PARAM_NodeIndex=101
DMZ_BASTION101_CF_PARAM_AppInstanceType=m3.medium
DMZ_BASTION101_CF_PARAM_AppInstanceProfile=$BastionRoleProfile
DMZ_BASTION101_CF_PARAM_ChefEnv=opshub-dev
DMZ_BASTION101_CF_PARAM_ChefRoles=base,bastion
DMZ_BASTION101_CF_PARAM_InternalSG=$InternalVpcSG
DMZ_BASTION101_CF_PARAM_ExternalSG=$BastionSG
DMZ_BASTION101_CF_PARAM_AppSG=$NullSG
DMZ_BASTION101_CF_PARAM_MaxProvisionTime=0

RUN_DMZ_BASTION201_STACK=false
DMZ_BASTION201_STACK_NAME=OPSHUB-BASTION201
DMZ_BASTION201_CF_TEMPLATE=server.cft
DMZ_BASTION201_CF_PARAM_Subnet=$DmzAZ2Subnet
DMZ_BASTION201_CF_PARAM_AssignEIP=True
DMZ_BASTION201_CF_PARAM_NodeName=bastion
DMZ_BASTION201_CF_PARAM_NodeIndex=201
DMZ_BASTION201_CF_PARAM_AppInstanceType=m3.medium
DMZ_BASTION201_CF_PARAM_AppInstanceProfile=$BastionRoleProfile
DMZ_BASTION201_CF_PARAM_ChefEnv=opshub-dev
DMZ_BASTION201_CF_PARAM_ChefRoles=base,bastion
DMZ_BASTION201_CF_PARAM_InternalSG=$InternalVpcSG
DMZ_BASTION201_CF_PARAM_ExternalSG=$BastionSG
DMZ_BASTION201_CF_PARAM_AppSG=$NullSG

RUN_NAT_SG_STACK=false
NAT_SG_STACK_NAME=OPSHUB-NAT-SG
NAT_SG_CF_TEMPLATE=nat-sg.cft
NatSG=OPSHUB-NAT-SG::NatSG

RUN_DMZ_NAT101_STACK=false
DMZ_NAT101_STACK_NAME=OPSHUB-NAT101
DMZ_NAT101_CF_TEMPLATE=nat-server.cft
DMZ_NAT101_CF_PARAM_Subnet=$DmzAZ1Subnet
DMZ_NAT101_CF_PARAM_PrivateRTB=OPSHUB-ROUTING::PrivateAz1RT
DMZ_NAT101_CF_PARAM_MaxProvisionTime=0
DMZ_NAT101_CF_PARAM_NodeName=nat
DMZ_NAT101_CF_PARAM_NodeIndex=101
DMZ_NAT101_CF_PARAM_ChefEnv=opshub-dev
DMZ_NAT101_CF_PARAM_ChefRoles=base,nat
DMZ_NAT101_CF_PARAM_InternalSG=$InternalVpcSG
DMZ_NAT101_CF_PARAM_ExternalSG=$NullSG
DMZ_NAT101_CF_PARAM_AppSG=$NatSG
DMZ_NAT101_CF_PARAM_MaxProvisionTime=0

RUN_DMZ_NAT201_STACK=false
DMZ_NAT201_STACK_NAME=OPSHUB-NAT201
DMZ_NAT201_CF_TEMPLATE=nat-server.cft
DMZ_NAT201_CF_PARAM_Subnet=$DmzAZ2Subnet
DMZ_NAT201_CF_PARAM_PrivateRTB=OPSHUB-ROUTING::PrivateAz2RT
DMZ_NAT201_CF_PARAM_MaxProvisionTime=0
DMZ_NAT201_CF_PARAM_NodeName=nat
DMZ_NAT201_CF_PARAM_NodeIndex=201
DMZ_NAT201_CF_PARAM_ChefEnv=opshub-dev
DMZ_NAT201_CF_PARAM_ChefRoles=base,nat
DMZ_NAT201_CF_PARAM_InternalSG=$InternalVpcSG
DMZ_NAT201_CF_PARAM_ExternalSG=$NullSG
DMZ_NAT201_CF_PARAM_AppSG=$NatSG

RUN_CHEF_PROXY_STACK=false
CHEF_PROXY_STACK_NAME=OPSHUB-CHEF-PROXY
CHEF_PROXY_CF_TEMPLATE=chef-squid-proxy.cft
CHEF_PROXY_CF_PARAM_Subnet1=$PrivateAZ1Subnet
CHEF_PROXY_CF_PARAM_Subnet2=$PrivateAZ2Subnet
CHEF_PROXY_CF_PARAM_InternalAccessSG=$InternalVpcSG
CHEF_PROXY_CF_PARAM_ExternalAccessSG=$NullSG
CHEF_PROXY_CF_PARAM_ChefProxyURL=none

RUN_ZABBIX_SERVER_STACK=0
ZABBIX_SERVER_STACK_NAME=OPSHUB-ZABBIX-SERVER
ZABBIX_SERVER_CF_TEMPLATE=zabbix-server.cft
ZABBIX_SERVER_CF_PARAM_NodeName=Zabbix-Server
ZABBIX_SERVER_CF_PARAM_ChefEnv=opshub-dev
ZABBIX_SERVER_CF_PARAM_ChefRoles=zabbix_server
ZABBIX_SERVER_CF_PARAM_SUBNETS=$MgmtAZ1Subnet

RUN_CLUSTER_PG_STACK=false
CLUSTER_PG_STACK_NAME=OPSHUB-CLUSTER-PG
CLUSTER_PG_CF_TEMPLATE=ec2-placementgroup.cft

RUN_TEST_SERVER_SG_STACK=false
TEST_SERVER_SG_STACK_NAME=OPSHUB-TESTSERVER-SG
TEST_SERVER_SG_CF_TEMPLATE=test-server-sg.cft
TestServerSG=OPSHUB-TESTSERVER-SG::TestServerSG

RUN_TEST_SERVER_STACK=0
TEST_SERVER_STACK_NAME=OPSHUB-TEST-SERVER
TEST_SERVER_CF_TEMPLATE=server.cft
TEST_SERVER_CF_PARAM_SUBNETS=$MgmtAZ1Subnet $MgmtAZ2Subnet
#TEST_SERVER_CF_PARAM_ClusterPG=OPSHUB-CLUSTER-PG::ClusterPG
#TEST_SERVER_CF_PARAM_AppInstanceType=m4.large
#TEST_SERVER_CF_PARAM_PrivateIP=10.236.123.88
#TEST_SERVER_CF_PARAM_Cname=test-server
TEST_SERVER_CF_PARAM_AssignEIP=False
TEST_SERVER_CF_PARAM_NodeName=test
TEST_SERVER_CF_PARAM_ChefEnv=opshub-dev
TEST_SERVER_CF_PARAM_ChefRoles=base
TEST_SERVER_CF_PARAM_OptDiskSize=10
TEST_SERVER_CF_PARAM_AppSG=$TestServerSG
TEST_SERVER_CF_PARAM_InternalSG=$InternalVpcSG
TEST_SERVER_CF_PARAM_ExternalSG=$BastionSG
TEST_SERVER_CF_PARAM_BootPriority=1
TEST_SERVER_CF_PARAM_Purpose=component

RUN_PRIVATE_SERVER_STACK=0
PRIVATE_SERVER_STACK_NAME=OPSHUB-PRIVATE-SERVER
PRIVATE_SERVER_CF_TEMPLATE=server.cft
PRIVATE_SERVER_CF_PARAM_SUBNETS=$PrivateAZ1Subnet $PrivateAZ2Subnet
PRIVATE_SERVER_CF_PARAM_MaxProvisionTime=0
PRIVATE_SERVER_CF_PARAM_NodeName=private
PRIVATE_SERVER_CF_PARAM_ChefEnv=opshub-dev
PRIVATE_SERVER_CF_PARAM_ChefRoles=base
PRIVATE_SERVER_CF_PARAM_OptDiskSize=10
PRIVATE_SERVER_CF_PARAM_AppSG=$TestServerSG
PRIVATE_SERVER_CF_PARAM_InternalSG=$InternalVpcSG
PRIVATE_SERVER_CF_PARAM_ExternalSG=$NullSG
PRIVATE_SERVER_CF_PARAM_BootPriority=2
PRIVATE_SERVER_CF_PARAM_Purpose=infrastructure

RUN_PRIVATE_CENTOS66PVM_SERVER_STACK=0
PRIVATE_CENTOS66PVM_SERVER_STACK_NAME=OPSHUB-CENTOS66PVM-SERVER
PRIVATE_CENTOS66PVM_SERVER_CF_TEMPLATE=server.cft
PRIVATE_CENTOS66PVM_SERVER_CF_PARAM_SUBNETS=$PrivateAZ1Subnet $PrivateAZ2Subnet
PRIVATE_CENTOS66PVM_SERVER_CF_PARAM_NodeName=centos66pvm
PRIVATE_CENTOS66PVM_SERVER_CF_PARAM_InstanceAMI=ami-9c6850f4
# centos66 pvm uses /dev/sda as the root, not /dev/sda1 (ugh)
PRIVATE_CENTOS66PVM_SERVER_CF_PARAM_RootDiskDevice=/dev/sda
PRIVATE_CENTOS66PVM_SERVER_CF_PARAM_ChefEnv=opshub-dev
PRIVATE_CENTOS66PVM_SERVER_CF_PARAM_ChefRoles=base
PRIVATE_CENTOS66PVM_SERVER_CF_PARAM_OptDiskSize=10
PRIVATE_CENTOS66PVM_SERVER_CF_PARAM_AppSG=$TestServerSG
PRIVATE_CENTOS66PVM_SERVER_CF_PARAM_InternalSG=$InternalVpcSG
PRIVATE_CENTOS66PVM_SERVER_CF_PARAM_ExternalSG=$NullSG
PRIVATE_CENTOS66PVM_SERVER_CF_PARAM_BootPriority=2
PRIVATE_CENTOS66PVM_SERVER_CF_PARAM_Purpose=infrastructure

RUN_PRIVATE_CENTOS67HVM_SERVER_STACK=0
PRIVATE_CENTOS67HVM_SERVER_STACK_NAME=OPSHUB-CENTOS67HVM-SERVER
PRIVATE_CENTOS67HVM_SERVER_CF_TEMPLATE=server.cft
PRIVATE_CENTOS67HVM_SERVER_CF_PARAM_SUBNETS=$PrivateAZ1Subnet $PrivateAZ2Subnet
PRIVATE_CENTOS67HVM_SERVER_CF_PARAM_NodeName=centos67hvm
PRIVATE_CENTOS67HVM_SERVER_CF_PARAM_AppInstanceType=i2.4xlarge
PRIVATE_CENTOS67HVM_SERVER_CF_PARAM_InstanceAMI=$AMI_USE1_CENT67HVM
PRIVATE_CENTOS67HVM_SERVER_CF_PARAM_ChefEnv=opshub-dev
PRIVATE_CENTOS67HVM_SERVER_CF_PARAM_ChefRoles=base
PRIVATE_CENTOS67HVM_SERVER_CF_PARAM_OptDiskSize=10
PRIVATE_CENTOS67HVM_SERVER_CF_PARAM_AppSG=$TestServerSG
PRIVATE_CENTOS67HVM_SERVER_CF_PARAM_InternalSG=$InternalVpcSG
PRIVATE_CENTOS67HVM_SERVER_CF_PARAM_ExternalSG=$NullSG
PRIVATE_CENTOS67HVM_SERVER_CF_PARAM_BootPriority=2
PRIVATE_CENTOS67HVM_SERVER_CF_PARAM_Purpose=infrastructure

RUN_ELASTICSEARCH_SG_STACK=false
ELASTICSEARCH_SG_STACK_NAME=OPSHUB-ELASTICSEARCH-SG
ELASTICSEARCH_SG_CF_TEMPLATE=elasticsearch-sg.cft
ElasticSearchSG=OPSHUB-ELASTICSEARCH-SG::ElasticSearchSG

RUN_ELASTICSEARCH_STACK=0
ELASTICSEARCH_STACK_NAME=OPSHUB-ELASTICSEARCH
ELASTICSEARCH_CF_TEMPLATE=server.cft
ELASTICSEARCH_CF_PARAM_SUBNETS=$PrivateAZ1Subnet $PrivateAZ2Subnet
ELASTICSEARCH_CF_PARAM_NodeName=es
ELASTICSEARCH_CF_PARAM_ChefProxyURL=none
ELASTICSEARCH_CF_PARAM_ChefEnv=opshub-dev
ELASTICSEARCH_CF_PARAM_ChefRoles=base
ELASTICSEARCH_CF_PARAM_OptDiskSize=10
ELASTICSEARCH_CF_PARAM_AppSG=$ElasticSearchSG
ELASTICSEARCH_CF_PARAM_InternalSG=$InternalVpcSG
ELASTICSEARCH_CF_PARAM_ExternalSG=$NullSG
ELASTICSEARCH_CF_PARAM_BootPriority=2
ELASTICSEARCH_CF_PARAM_Purpose=infrastructure
ELASTICSEARCH_CF_PARAM_Volume1=25,standard,/dev/xvdv,/extra/standard
ELASTICSEARCH_CF_PARAM_Volume5=10,io1,/dev/xvdx,/extra/piops,100
ELASTICSEARCH_CF_PARAM_Volume9=25,gp2,/dev/xvdz,/extra/gp2

RUN_RABBTIMQ_CLUSTER=false

RUN_LOGSTASH_CLUSTER_STACK=false
